Задача класса Router проинициализировать ресурсы контроллеров (сохранить "ссылки" на методы) и проанализировать входящий трафик (ввод данных пользователя по выбору ресурса) и перенаправить на нужных пользователю ресурс.
extend - используется для того, чтобы использовать методы модуля Rosource как методы класса *Controller (разместить их как методы синглтон класса *Controller)

* = Posts, Comments

ПС. Не вижу причины по которой нужно Resource размещать в каждом классе контроллера.

method connection - не связан в Ресурсами контроллера (логика не связана в обработкой ресурсов)мы даже ссылки на методы контроллера создаем из вне и передаем в качестве параметров.

Можно было:

module Resource
  def self.connection(routes)
...

  Resource.connection(@routes['posts']) if choise == '1'

и не нужен extend
